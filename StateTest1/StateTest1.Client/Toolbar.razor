@rendermode InteractiveWebAssembly

@if (loaded)
{
    <AppStateProvider @ref=stateBag>
        @stateBag.Message
    </AppStateProvider>
}

@code {

    bool loaded = false;
    private AppStateProvider stateBag { get; set; }

    protected override void OnAfterRender(bool firstRender)
    {
        if (firstRender)
        {
            loaded = true;
            StateHasChanged();
        }
    }
}
