@rendermode InteractiveWebAssembly

@if (loaded)
{
    <AppStateProvider @ref=appState>
        @appState.Message
    </AppStateProvider>
}

@code {

    bool loaded = false;
    private AppStateProvider appState { get; set; }

    protected override void OnAfterRender(bool firstRender)
    {
        if (firstRender)
        {
            loaded = true;
            StateHasChanged();
        }
    }
}
